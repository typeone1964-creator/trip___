<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>旅タイプ診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
      background: #f7f7f7;
      margin: 0
    }

    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      min-height: 100vh;
      padding: 20px
    }

    h1,
    h2 {
      text-align: center
    }

    .field {
      margin-bottom: 20px
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 6px
    }

    input,
    select {
      width: 100%;
      padding: 10px;
      font-size: 16px
    }

    button {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      background: #4f46e5;
      color: #fff;
      border: none;
      border-radius: 6px
    }

    button:disabled {
      background: #aaa
    }

    .choice {
      margin: 10px 0;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px
    }

    .choice:hover {
      background: #f0f0ff;
      cursor: pointer
    }

    .hidden {
      display: none
    }

    .result {
      background: #f9fafb;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>旅タイプ診断</h1>

    <div id="step-basic">
      <div class="field">
        <label>今回の日数</label>
        <select id="days">
          <option value="">選択してください</option>
          <option>日帰り</option>
          <option>1泊2日</option>
          <option>2泊3日</option>
          <option>3泊4日</option>
          <option>4泊5日以上</option>
        </select>
      </div>
      <div class="field">
        <label>1人あたりの予算</label>
        <input id="budget" placeholder="例：5万円">
      </div>
      <button id="startBtn" disabled>診断スタート</button>
    </div>

    <div id="step-question" class="hidden">
      <h2 id="question"></h2>
      <div id="choices"></div>
    </div>

    <div id="step-result" class="hidden">
      <h2>診断結果</h2>
      <div class="result" id="result"></div>
    </div>
  </div>

  <script>
    const questions = [
      ["旅の朝、どう目覚めたい？", ["自然", "都会", "優雅", "自由"]],
      ["迷子になったら？", ["探検", "地図", "人に聞く", "写真"]],
      ["食事で重視する？", ["名店", "ローカル", "雰囲気", "食べ歩き"]],
      ["本を一冊なら？", ["歴史", "漫画", "哲学", "ガイド"]],
      ["旅の靴は？", ["スニーカー", "おしゃれ", "スリッパ", "登山"]],
      ["夜の気分は？", ["バー", "星", "マッサージ", "夜景"]],
      ["カバンの余白は？", ["空", "準備", "最小", "土産"]],
      ["行きたい時代は？", ["太古", "中世", "未来", "子供"]],
      ["帰宅後どうなりたい？", ["疲労", "知識", "回復", "活力"]],
      ["旅とは？", ["冒険", "逃避", "発見", "交流"]]
    ];

    let i = 0, answers = [];
    const days = document.getElementById("days");
    const budget = document.getElementById("budget");
    const startBtn = document.getElementById("startBtn");

    days.onchange = budget.oninput = () => startBtn.disabled = !(days.value && budget.value);

    startBtn.onclick = () => {
      document.getElementById("step-basic").classList.add("hidden");
      document.getElementById("step-question").classList.remove("hidden");
      show();
    };

    function show() {
      document.getElementById("question").textContent = `Q${i + 1}. ${questions[i][0]}`;
      const c = document.getElementById("choices"); c.innerHTML = "";
      questions[i][1].forEach((t, n) => {
        const d = document.createElement("div");
        d.className = "choice"; d.textContent = t;
        d.onclick = () => { answers.push(n); i++; i < 10 ? show() : result() };
        c.appendChild(d);
      });
    }

    function result() {
      document.getElementById("step-question").classList.add("hidden");
      document.getElementById("step-result").classList.remove("hidden");
      const type = answers.filter(a => a === 0).length >= 3 ?
        "五感で感じるネイチャー・ビースト" :
        "知的好奇心旺盛なタイムトラベラー";
      const place = type.includes("ネイチャー") ? "屋久島" : "金沢";
      document.getElementById("result").innerHTML =
        `<p><b>${type}</b></p><p>${days.value}／${budget.value}</p><p>おすすめ：${place}</p>`;
    }
  </script>
</body>

</html>